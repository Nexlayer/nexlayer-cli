# Nexlayer YAML Template Reference
# Version: 1.0
# This document defines the structured format for deploying full-stack applications on Nexlayer Cloud.
# Both human engineers and AI agents can use this reference to generate, modify, and validate deployments.

application:
  name: "<string>"  # REQUIRED: The unique name of your deployment.
  url: "<string>"  # OPTIONAL: Permanent domain for this deployment. Omit if using a temporary environment.
  registryLogin:  # OPTIONAL: Required only for private container registries.
    registry: "<string>"  # REQUIRED for private registries. Example: "ghcr.io/my-org"
    username: "<string>"  # REQUIRED for private registry authentication.
    personalAccessToken: "<string>"  # REQUIRED for secure authentication.
  pods:  # REQUIRED: List of services that make up this application.
    - name: "<string>"  # REQUIRED: Unique pod name (lowercase, alphanumeric, '-', or '.')
      path: "<string>"  # OPTIONAL: URL path where this pod is accessible (e.g., '/' for frontend, '/api' for backend)
      image: "<string>"  # REQUIRED: Docker image reference (supports <% REGISTRY %> for private images)
      volumes:  # OPTIONAL: Defines persistent storage volumes.
        - name: "<string>"  # REQUIRED: Unique volume name.
          size: "<string>"  # REQUIRED: Storage size (e.g., "1Gi").
          mountPath: "<string>"  # REQUIRED: Path inside the container.
      secrets:  # OPTIONAL: Defines encrypted credentials or config files.
        - name: "<string>"  # REQUIRED: Secret name.
          data: "<string>"  # REQUIRED: Raw or Base64-encoded secret content.
          mountPath: "<string>"  # REQUIRED: Directory where the secret is stored.
          fileName: "<string>"  # REQUIRED: Name of the secret file.
      vars:  # OPTIONAL: Environment variables required by this pod.
        - key: "<string>"  # REQUIRED: Environment variable key.
          value: "<string>"  # REQUIRED: Environment variable value.
      servicePorts:  # OPTIONAL: List of ports that this pod exposes.
        - "<integer>"  # REQUIRED: Port number (e.g., 3000, 5432).
      